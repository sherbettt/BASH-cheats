[Wiki-ICMP](https://ru.wikipedia.org/wiki/ICMP)

Модель OSI — эталонная модель взаимодействия открытых систем, состоящая из семи уровней. Каждый уровень имеет своё назначение и специфические протоколы, работающие на определённых портах. Вот представление модели вместе с примерами популярных протоколов и номеров портов:

### Модель OSI

| Уровень | Название уровня          | Примеры протоколов / Номера портов |
|---------|--------------------------|-------------------------------------|
| 7       | Прикладной               | HTTP (80), FTP (21), SMTP (25), DNS (53) |
| 6       | Представительный         | SSL/TLS (используется поверх прикладных сервисов) |
| 5       | Сеансовый                | NetBIOS Session Service (139) |
| 4       | Транспортный             | TCP (любые номера портов от 0 до 65535), UDP (любые номера портов от 0 до 65535) |
| 3       | Сетевой                  | IP, ICMP (не имеет порта)            |
| 2       | Канальный                | Ethernet, Wi-Fi                      |
| 1       | Физический               | Кабели, сетевые карты, антенны      |

### Объяснения:

- **Прикладной уровень** (уровень 7):
  Отвечает за взаимодействие приложений пользователей с сетью. Здесь работают такие протоколы, как HTTP (порт 80), HTTPS (порт 443), FTP (порт 21).
  
- **Представительный уровень** (уровень 6):
  Обеспечивает форматы представления данных, шифрование/дешифрацию и сжатие. Например, SSL/TLS используется поверх других протоколов для защиты передачи данных.

- **Сеансовый уровень** (уровень 5):
  Управляет открытием, закрытием и восстановлением сеансов связи между приложениями. Протокол NetBIOS использует порт 139.

- **Транспортный уровень** (уровень 4):
  Осуществляет передачу данных между хостами сети. Основные протоколы: TCP и UDP, которые используют любые доступные номера портов (например, SSH работает на порту 22).

- **Сетевой уровень** (уровень 3):
  Предоставляет возможность доставки пакетов между различными сегментами сети. Основной протокол — IP, также используются ICMP и ARP.

- **Канальный уровень** (уровень 2):
  Контролирует доступ устройств к среде передачи данных (каналу). Работают технологии Ethernet и Wi-Fi.

- **Физический уровень** (уровень 1):
  Описывает аппаратуру и физические среды передачи данных (оптоволокно, витая пара, радиосигналы).

Таким образом, номера портов непосредственно связаны с транспортными и прикладными уровнями, тогда как остальные уровни не требуют конкретных номеров портов.



### Модель OSI c номером портов основных протоколов и инструментов

| Уровень | Название уровня     | Примеры протоколов / Инструменты   | Номер порта (по умолчанию) |
|---------|---------------------|------------------------------------|----------------------------|
| 7       | Прикладной          | HTTP                               | 80                          |
|         |                     | HTTPS                              | 443                         |
|         |                     | FTP                                | 20/21                       |
|         |                     | SSH                                | 22                          |
|         |                     | Telnet                             | 23                          |
|         |                     | SMTP                               | 25                          |
|         |                     | DNS                                | 53                          |
|         |                     | DHCP                               | 67/68                       |
|         |                     | POP3                               | 110                         |
|         |                     | LDAP                               | 389                         |
|         |                     | SMB                                | 445                         |
|         |                     | NFS                                | 2049                        |
|         |                     | SDP                                | 20062                       |
|         |                     | SIP                                | 5060/6061 (TCP или UDP)     |
|         |                     | RTP                                | 1024–65535                  |
| 6       | Представительный    | SSL/TLS                            | Используется поверх других протоколов |
|         |                     | XML                                | Зависит от приложения (обычно совпадает с прикладным уровнем) |
|         |                     | JSON                               | Зависит от приложения (обычно совпадает с прикладным уровнем) |
| 5       | Сеансовый           | NetBIOS Session Service            | 137-139                      |
|         |                     | SIP (частично)                     | 5060/6061 (TCP или UDP)     |
| 4       | Транспортный        | TCP                                | Любые (0–65535)              |
|         |                     | UDP                                | Любые (0–65535)              |
|         |                     | SSH                                | 22                          |
|         |                     | Telnet                             | 23                          |
|         |                     | Netcat (nc)                        | Нет фиксированного (использует заданный пользователем) |
|         |                     | Nmap                               | Нет фиксированного (сканирует указанные пользователем) |
| 3       | Сетевой             | IP (IPv4/IPv6)                     | Не применимо                 |
|         |                     | ICMP                               | 1, поверх IP-пакетов         |
| 2       | Канальный           | Ethernet, PPP, HDLC                | Нет портов (используются MAC-адреса) |
|         |                     | Wi-Fi, STP, L2TP, FDDI             | Нет портов (используются MAC-адреса) |
| 1       | Физический          | Кабель Ethernet, Wi-Fi             | Нет портов (сигналы, кабели) |
|         |                     | DSL, USB, Bluetooth, RS-232        | Нет портов (сигналы, кабели) |

### Пояснение используемых портов:

 **SSH**: Стандартный номер порта — `22`. Используется для безопасного удалённого подключения к серверу или устройству.

 **Telnet**: Использует порт `23` по умолчанию. Это устаревший протокол удалённого управления устройствами, менее защищённый, чем SSH.

**RTP (Real-time Transport Protocol)** относится к **прикладному уровню (7)** модели OSI, хотя часто его рассматривают как часть **транспортного уровня (4)** с функциональной точки зрения (поскольку он обеспечивает доставку данных в реальном времени).  

### Основные характеристики RTP:
- **Уровень OSI**:  
  - Формально — **прикладной (7)**, но работает поверх UDP (транспортный уровень).  
  - Фактически выполняет функции, близкие к **транспортному уровню (4)**.  

- **Порты**:  
  - **RTP использует четные порты** в диапазоне **1024–65535** (обычно выбираются динамически).  
  - **RTCP (RTP Control Protocol)** — использует **следующий нечетный порт** (например, RTP: 5004 → RTCP: 5005).  
  - Часто применяются диапазоны:  
    - **5004–5005** (стандартные для VoIP, например, в SIP).  
    - **16384–32768** (используются в WebRTC и мультимедийных системах).  

### Дополнительно:
- **Зависит от SIP/SDP** — порты могут быть назначены динамически в процессе установки сеанса.  
- **Не имеет фиксированного порта**, но часто настраивается вручную в VoIP-оборудовании.  


