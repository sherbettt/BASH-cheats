# –ö–æ–º–∞–Ω–¥—ã sysstat - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è

## üìä **–ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**

### iostat - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∏—Å–∫–æ–≤
```bash
# –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º
iostat -xtz 2

# –¢–æ–ª—å–∫–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–∏—Å–∫–ª—é—á–∏—Ç—å loop)
iostat -x -p sda,sdb,nvme0n1,nvme1n1 2

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –º–µ–≥–∞–±–∞–π—Ç–∞—Ö
iostat -d -m 2

# –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å –Ω–∞–≥—Ä—É–∑–∫–æ–π > 1 tps
iostat -x | awk 'NR<=3 || $2>1'

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —É—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
iostat -x 2 | awk 'NR<=3 || $14>10 {print}'
```

### mpstat - –º–Ω–æ–≥–æ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```bash
# –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º —è–¥—Ä–∞–º
mpstat -P ALL 1

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è–º–∏
mpstat -I SUM 2

# CPU —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å —Ä–∞–∑–±–∏–≤–∫–æ–π –ø–æ —Ç–∏–ø–∞–º –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π
mpstat -I CPU 2

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –º–µ–∂–¥—É —è–¥—Ä–∞–º–∏
mpstat -u -P ALL 2
```

## üîç **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤**

### pidstat - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π
pidstat -urd -h 2

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥—Ä—É–ø–ø–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pidstat -C "java|ssh|systemd" -urd 2

# I/O —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å –∏–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤
pidstat -dl -t 2

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Ç–æ–∫–æ–≤ (threads)
pidstat -t -u 2

# –ü–∞–º—è—Ç—å —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
pidstat -r -s 2

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
pidstat -u -t -r -d 2 | awk '{user[$2]+=$4} END {for(u in user) print u, user[u]}'
```

## üìà **sar - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–π –∏ —Ä–µ–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑**

### –ê–Ω–∞–ª–∏–∑ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
```bash
# –ê–Ω–∞–ª–∏–∑ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –¥–µ–Ω—å
sar -f /var/log/sa/sa15 -s 10:00:00 -e 16:00:00

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –∑–∞ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã
sar -q -f /var/log/sa/sa14 && echo "---" && sar -q -f /var/log/sa/sa15

# –°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç –∑–∞ –º–µ—Å—è—Ü
for day in {01..30}; do sar -f /var/log/sa/sa$day | tail -1; done
```

### –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã sar
```bash
# –ê–Ω–∞–ª–∏–∑ –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
sar -u | awk '$3+$5 > 80 {print}'

# –ü–æ–∏—Å–∫ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã—Å–æ–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∏—Å–∫–∞
sar -d -p | awk 'NR>3 && $10>50 {print}'

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π alert –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
sar -u 2 | awk 'NR>3 && $3+$5 > 90 {print "ALERT: High CPU at", $1; system("logger High CPU load")}'
```

## üéØ **–°–ª–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã**

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–≤–∞—è –ø–∞–Ω–µ–ª—å
```bash
watch -n 2 '
echo "=== CPU ==="
mpstat -P ALL 1 1 | tail -n +4
echo ""
echo "=== MEMORY ==="
free -h
echo ""
echo "=== DISK I/O ==="
iostat -x 1 1 | grep -E "(Device|nvme|sd)"
'
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
#!/bin/bash
# perf-monitor.sh

INTERVAL=2
COUNT=10

echo "Starting performance monitoring for ${COUNT} intervals..."
echo "======================================================"

# –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
mpstat -P ALL $INTERVAL $COUNT > cpu_stats.log &
iostat -x $INTERVAL $COUNT > disk_stats.log &
pidstat -urd $INTERVAL $COUNT > process_stats.log &

wait

# –ê–Ω–∞–ª–∏–∑
echo "CPU Summary:"
awk '/Average:/ && /all/ {print "CPU Idle:", $12"%"} /Average:/ && !/all/ {print "CPU"$3":", $12"%"}' cpu_stats.log

echo -e "\nDisk Summary:"
awk '/Device/ {header=$0} /nvme/ {print} END {print header}' disk_stats.log | tail -6
```

### –ü–æ–∏—Å–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã —Å –≤—ã—Å–æ–∫–æ–π CPU –Ω–∞–≥—Ä—É–∑–∫–æ–π
pidstat -u 1 5 | awk 'NR>3 && $8 > 20 {print "High CPU:", $4, $8"%"}'

# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã —Å –≤—ã—Å–æ–∫–∏–º I/O
pidstat -d 1 5 | awk 'NR>3 && $4 > 1000 {print "High I/O:", $4, $7" KB/s"}'

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å –æ–ø–æ–≤–µ—â–µ–Ω–∏–µ–º
pidstat -u 2 | awk 'NR>3 && $8 > 90 {system("echo \"ALERT: Process " $4 " using " $8 "% CPU\" | mail -s \"High CPU Alert\" admin@example.com")}'
```

## üìä **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ—Ç—á–µ—Ç—ã**

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
```bash
# –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
generate_perf_report() {
    echo "Performance Report for $(date)"
    echo "=============================="
    echo -e "\nCPU Usage:"
    sar -u | tail -5
    echo -e "\nMemory Usage:"
    sar -r | tail -5
    echo -e "\nDisk I/O:"
    iostat -x | grep -E "(nvme|sd)" | head -3
}
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å —Ü–≤–µ—Ç–∞–º–∏
```bash
watch -t -n 1 '
echo -e "\033[1;34m=== LIVE SYSTEM STATS ===\033[0m"
echo -e "\033[1;32mCPU:\033[0m"
mpstat 1 1 | tail -1 | awk "{printf \"User: %.1f%%, System: %.1f%%, Idle: %.1f%%\\n\", \$3, \$5, \$12}"
echo -e "\033[1;32mMemory:\033[0m"
free -h | awk "/Mem:/ {printf \"Used: %s/%s (%.1f%%)\\n\", \$3, \$2, \$3/\$2*100}"
echo -e "\033[1;32mTop Processes:\033[0m"
ps aux --sort=-%cpu | head -4
'
```

## üîß **–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏**

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π
```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –ø–æ CPU
mpstat -I SCPU 2

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º—è–≥–∫–∏—Ö –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π
mpstat -I SOFT 2

# –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π
cat /proc/interrupts | awk '{for(i=2;i<=NF-3;i++) sum[i]+=$i} END {for(i=2;i<=NF-3;i++) print "CPU" i-2 ":", sum[i]}'
```

### –î–µ—Ç–∞–ª—å–Ω—ã–π I/O –∞–Ω–∞–ª–∏–∑
```bash
# –ê–Ω–∞–ª–∏–∑ –æ—á–µ—Ä–µ–¥–µ–π –¥–∏—Å–∫–æ–≤
iostat -x | awk 'NR>3 {print $1, $9, $10, $11}' | sort -k2 -nr

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞ –¥–∏—Å–∫–∞
iostat -x 2 | awk 'NR>3 && $10 > 50 {print "High await:", $1, $10"ms"}'

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–∏—Å–∫–æ–≤
iostat -x -p nvme0n1,nvme1n1 2 | awk '/Device/ {print} /nvme/ {print}'
```

----------------------------

# –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞–º—è—Ç–∏ - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è

## üêß **–ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–∞–º—è—Ç–∏**

### free - –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```bash
# –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
free

# –í —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
free -h

# –ü–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥
free -m

# –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
free -h -s 2

# –° –∏—Ç–æ–≥–∞–º–∏
free -t -h
```

### /proc/meminfo - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```bash
# –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–º—è—Ç–∏
cat /proc/meminfo

# –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
cat /proc/meminfo | grep -E "(MemTotal|MemFree|MemAvailable|SwapTotal|SwapFree)"

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥
awk '/MemTotal/ {total=$2} /MemFree/ {free=$2} /MemAvailable/ {avail=$2} END {printf "Total: %.1fG, Free: %.1fG, Available: %.1fG\n", total/1048576, free/1048576, avail/1048576}' /proc/meminfo
```

## üìä **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏**

### vmstat - –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å
```bash
# –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
vmstat

# –° –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 2 —Å–µ–∫—É–Ω–¥—ã
vmstat 2

# –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
vmstat -s

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
vmstat -a

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å —Ü–≤–µ—Ç–∞–º–∏
watch -n 1 'vmstat 1 2 | tail -1 | awk "{printf \"\033[1;32mMemory: \033[0mFree: %dMB, Cache: %dMB, Swap: %dMB\\n\", $4/1024, $6/1024, $3/1024}"'
```

### sar - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏
sar -r

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–≤–æ–ø–∞
sar -S

# –ü–∞–º—è—Ç—å —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º
sar -r 2 5

# –ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞–º—è—Ç–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
sar -r -f /var/log/sa/sa$(date +%d)

# –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–Ω–¥–æ–≤
sar -r | awk 'NR>3 {print $1, $4}' > memory_usage.txt
```

## üîç **–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

### ps - –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```bash
# –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –ø–∞–º—è—Ç–∏
ps aux --sort=-%mem | head -10

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps -eo pid,ppid,%mem,%cpu,cmd --sort=-%mem | head -15

# –ü–∞–º—è—Ç—å –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
ps -eo user,%mem --sort=-%mem | awk '{arr[$1]+=$2} END {for(i in arr) print i, arr[i]"%"}' | sort -k2 -nr

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
watch -n 2 'ps -eo pid,%mem,cmd --sort=-%mem | head -5'
```

### pidstat - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
pidstat -r

# –° –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º
pidstat -r 2

# –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
pidstat -r -s

# –î–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
pidstat -r -p $(pgrep java)

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pidstat -r -d -u 2
```

## üéØ **–ê–Ω–∞–ª–∏–∑ –∫—ç—à–∞ –∏ –±—É—Ñ–µ—Ä–æ–≤**

### slabtop - –∫—ç—à —è–¥—Ä–∞
```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
slabtop

# –û–¥–∏–Ω —Å–Ω–∏–º–æ–∫
slabtop -o

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
slabtop -s u

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞–∑–º–µ—Ä—É
slabtop -s s

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π
watch -n 1 slabtop -o -s c
```

### /proc/slabinfo - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ slab
```bash
# –í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
cat /proc/slabinfo

# –¢–æ–ø –æ–±—ä–µ–∫—Ç–æ–≤ –∫—ç—à–∞
cat /proc/slabinfo | awk 'NR>1 {print $1,$2,$3,$4}' | sort -k3 -nr | head -10

# –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
echo "Slab cache usage:"
awk '{sum += $3} END {print sum " bytes"}' /proc/slabinfo
```

## üíæ **–ê–Ω–∞–ª–∏–∑ swap**

### swapon/swapoff - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ swap
```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ swap —Ä–∞–∑–¥–µ–ª–∞—Ö
swapon --show

# –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
cat /proc/swaps

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
vmstat -s | grep -i swap

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ swap
watch -n 1 'grep -E "(Swap|SwapCached)" /proc/meminfo'
```

### iotop - I/O –≤–∫–ª—é—á–∞—è swap
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ I/O (—Ç—Ä–µ–±—É–µ—Ç root)
iotop -o

# –¢–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å—ã —Å I/O
iotop -b -n 3

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ swap
iotop -o -P
```

## üõ† **–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞**

### pmap - –∫–∞—Ä—Ç–∞ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
```bash
# –ö–∞—Ä—Ç–∞ –ø–∞–º—è—Ç–∏ –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞
pmap -x $(pgrep java)

# –ü–æ–¥—Ä–æ–±–Ω–∞—è –∫–∞—Ä—Ç–∞
pmap -XX $(pgrep java)

# –î–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
for pid in $(pgrep java); do echo "Process $pid:"; pmap -x $pid | head -10; done

# –ê–Ω–∞–ª–∏–∑ shared memory
pmap -d $(pgrep java) | grep -i shared
```

### smem - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –µ—Å–ª–∏ –Ω–µ—Ç: yum install smem
smem

# –í —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
smem -H

# –°–≤–æ–¥–∫–∞ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
smem -u

# –°–≤–æ–¥–∫–∞ –ø–æ –ø—Ä–æ—Ü–µ—Å—Å–∞–º
smem -P java

# –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ RSS
smem -s rss -r
```

## üìà **–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**

### –°–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–∞–º—è—Ç–∏
```bash
#!/bin/bash
# memory-monitor.sh

INTERVAL=2

echo "Memory Monitoring Started..."
echo "============================"

while true; do
    clear
    echo "$(date)"
    echo "======================"
    
    # –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    free -h
    
    echo -e "\nTop Memory Processes:"
    ps aux --sort=-%mem | head -5
    
    echo -e "\nMemory Pressure:"
    awk '/MemAvailable/ {avail=$2} /MemTotal/ {total=$2} END {printf "Available: %.1f%%, Pressure: %.1f%%\n", (avail/total)*100, 100-(avail/total)*100}' /proc/meminfo
    
    sleep $INTERVAL
done
```

### –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–∞–º—è—Ç–∏
```bash
#!/bin/bash
# detailed-memory-analysis.sh

echo "=== Detailed Memory Analysis ==="
echo "Generated: $(date)"
echo "================================"

echo -e "\n1. System Memory Overview:"
free -h

echo -e "\n2. /proc/meminfo Summary:"
awk '/MemTotal/ {total=$2/1024}
     /MemFree/ {free=$2/1024}
     /MemAvailable/ {avail=$2/1024}
     /SwapTotal/ {swaptotal=$2/1024}
     /SwapFree/ {swapfree=$2/1024}
     END {
         printf "Memory: Total=%.1fM, Free=%.1fM, Available=%.1fM (%.1f%%)\n", total, free, avail, (avail/total)*100
         printf "Swap: Total=%.1fM, Free=%.1fM (%.1f%% used)\n", swaptotal, swapfree, 100-(swapfree/swaptotal)*100
     }' /proc/meminfo

echo -e "\n3. Top 5 Memory Processes:"
ps -eo pid,ppid,%mem,%cpu,cmd --sort=-%mem | head -6

echo -e "\n4. Slab Cache Usage:"
awk '{sum += $3} END {printf "Slab cache: %.1f MB\n", sum/1048576}' /proc/slabinfo

echo -e "\n5. Kernel Memory:"
awk '/Slab/ {slab=$2} /KernelStack/ {stack=$2} /PageTables/ {pt=$2} 
     END {printf "Kernel memory: Slab=%.1fM, Stack=%.1fM, PageTables=%.1fM\n", slab/1024, stack/1024, pt/1024}' /proc/meminfo
```

## üé® **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**

### –¶–≤–µ—Ç–Ω–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
watch -n 1 '
echo -e "\033[1;34m=== LIVE MEMORY STATUS ===\033[0m"
echo -e "\033[1;32mPhysical Memory:\033[0m"
free -h | grep -E "(Mem|–ü–∞–º—è—Ç—å)" | awk "{printf \"Total: %s, Used: %s, Free: %s, Shared: %s\\n\", \$2, \$3, \$4, \$5}"
echo -e "\033[1;32mSwap:\033[0m" 
free -h | grep -E "(Swap|–ü–æ–¥–∫–∞—á–∫–∞)" | awk "{printf \"Total: %s, Used: %s, Free: %s\\n\", \$2, \$3, \$4}"
echo -e "\033[1;32mAvailable Memory:\033[0m"
awk "/MemAvailable/ {printf \"%.1fG\\n\", \$2/1048576}" /proc/meminfo
'
```

### –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω htop)
```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
htop

# –° —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π –ø–æ –ø–∞–º—è—Ç–∏
htop -s PERCENT_MEM

# –î–µ—Ä–µ–≤–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
htop -t
```

## üîß **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º**

### –ü–æ–∏—Å–∫ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
watch -n 5 'ps -eo pid,%mem,cmd --sort=-%mem | head -5'

# –ê–Ω–∞–ª–∏–∑ —Ä–æ—Å—Ç–∞ RSS
while true; do
    ps -eo pid,rss,cmd | grep java | awk '{print $1, $2/1024"MB"}'
    sleep 10
done

# –ü—Ä–æ–≤–µ—Ä–∫–∞ shared memory
ipcs -m
```

### –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫—ç—à–∞
```bash
# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
echo 3 > /proc/sys/vm/drop_caches

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∞
watch -n 1 'awk "/MemFree/ {free=$2} /Cached/ {cached=$2} END {print \"Free:\", free/1024\"MB\", \"Cached:\", cached/1024\"MB\"}" /proc/meminfo'
```


