SIP (Session Initiation Protocol) — это протокол сигнализации, используемый для установления, изменения и завершения мультимедийных сеансов связи, таких как VoIP-звонки, видеоконференции и обмен сообщениями.  

### **Основные типы SIP-запросов (методы)**  
1. **INVITE** – инициирует сеанс связи (например, звонок).  
2. **ACK** – подтверждает окончательное принятие запроса (после ответа на INVITE).  
3. **BYE** – завершает сеанс связи.  
4. **CANCEL** – отменяет ожидающий запрос (например, если звонок не был принят).  
5. **OPTIONS** – запрашивает информацию о возможностях сервера или UA (User Agent).  
6. **REGISTER** – регистрирует пользователя на SIP-сервере (например, при подключении к VoIP-провайдеру).  
7. **SUBSCRIBE** – подписывается на уведомления о событиях.  
8. **NOTIFY** – отправляет уведомления о событиях.  
9. **PUBLISH** – публикует информацию о состоянии пользователя.  
10. **REFER** – перенаправляет вызов или сеанс.  
11. **MESSAGE** – передает мгновенные сообщения (SMS-подобные).  

---

### **SIP-ответы (коды состояний)**  
Ответы SIP делятся на **6 классов**, где первая цифра определяет тип ответа:  

#### **1xx (Информационные)** – запрос в обработке  
- **100 Trying** – запрос получен, обрабатывается.  
- **180 Ringing** – удаленный UA "звонит" (абоненту).  
- **183 Session Progress** – сеанс устанавливается (может включать ранний медиапоток).  

#### **2xx (Успешные)** – запрос выполнен  
- **200 OK** – запрос успешно завершен (например, звонок принят).  
- **202 Accepted** – запрос принят, но еще не обработан (используется в NOTIFY, SUBSCRIBE).  

#### **3xx (Перенаправления)** – требуется дополнительное действие  
- **301 Moved Permanently** – пользователь навсегда переехал на новый адрес.  
- **302 Moved Temporarily** – временное перенаправление.  
- **305 Use Proxy** – запрос должен быть отправлен через указанный прокси.  
- **380 Alternative Service** – альтернативный сервис (например, голосовая почта).  

#### **4xx (Ошибки клиента)** – запрос содержит ошибку  
- **400 Bad Request** – синтаксическая ошибка в запросе.  
- **401 Unauthorized** – требуется аутентификация.  
- **403 Forbidden** – сервер понял запрос, но отказывается его выполнять.  
- **404 Not Found** – пользователь не найден.  
- **405 Method Not Allowed** – метод не поддерживается.  
- **408 Request Timeout** – сервер не дождался ответа.  
- **415 Unsupported Media Type** – неподдерживаемый формат медиа.  
- **420 Bad Extension** – неподдерживаемое расширение SIP.  
- **486 Busy Here** – абонент занят.  
- **487 Request Terminated** – запрос отменен (CANCEL).  

#### **5xx (Ошибки сервера)** – сервер не может выполнить запрос  
- **500 Server Internal Error** – внутренняя ошибка сервера.  
- **501 Not Implemented** – функционал не реализован.  
- **503 Service Unavailable** – сервис временно недоступен.  
- **504 Server Time-out** – сервер не ответил вовремя.  
- **505 Version Not Supported** – версия SIP не поддерживается.  

#### **6xx (Глобальные ошибки)** – запрос не может быть выполнен нигде  
- **600 Busy Everywhere** – абонент занят на всех устройствах.  
- **603 Decline** – вызов отклонен пользователем.  
- **604 Does Not Exist Anywhere** – пользователь не существует.  
- **606 Not Acceptable** – медиа-параметры не поддерживаются.  

---

### **Пример SIP-диалога**  
1. **Вызов (INVITE)**  
   ```  
   INVITE sip:bob@example.com SIP/2.0  
   From: <sip:alice@example.com>  
   To: <sip:bob@example.com>  
   Call-ID: 123456@alicepc  
   CSeq: 1 INVITE  
   ```  

2. **Ответ (180 Ringing)**  
   ```  
   SIP/2.0 180 Ringing  
   From: <sip:alice@example.com>  
   To: <sip:bob@example.com>  
   Call-ID: 123456@alicepc  
   CSeq: 1 INVITE  
   ```  

3. **Успешное соединение (200 OK)**  
   ```  
   SIP/2.0 200 OK  
   From: <sip:alice@example.com>  
   To: <sip:bob@example.com>  
   Call-ID: 123456@alicepc  
   CSeq: 1 INVITE  
   ```  

4. **Подтверждение (ACK)**  
   ```  
   ACK sip:bob@example.com SIP/2.0  
   From: <sip:alice@example.com>  
   To: <sip:bob@example.com>  
   Call-ID: 123456@alicepc  
   CSeq: 1 ACK  
   ```  

5. **Завершение вызова (BYE)**  
   ```  
   BYE sip:bob@example.com SIP/2.0  
   From: <sip:alice@example.com>  
   To: <sip:bob@example.com>  
   Call-ID: 123456@alicepc  
   CSeq: 2 BYE  
   ```  

6. **Подтверждение завершения (200 OK)**  
   ```  
   SIP/2.0 200 OK  
   From: <sip:alice@example.com>  
   To: <sip:bob@example.com>  
   Call-ID: 123456@alicepc  
   CSeq: 2 BYE  
   ```  

Это базовая информация о SIP. Если нужно углубленно разобрать какие-то аспекты (например, заголовки, SDP, NAT-проблемы), уточните!
