# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å Aptly

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Aptly](#—Ç–µ–∫—É—â–∞—è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-aptly)
- [–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)
  - [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è](#1-–ø—Ä–æ–≤–µ—Ä–∫–∞-—Å–æ—Å—Ç–æ—è–Ω–∏—è)
  - [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤](#2-–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–∫–µ—Ç–æ–≤-–≤-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
  - [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤](#3-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤)
  - [–ü–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–æ–≤](#4-–ø–æ–∏—Å–∫-–ø–∞–∫–µ—Ç–æ–≤)
  - [–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ](#5-–ø—Ä–æ—Å–º–æ—Ç—Ä-—Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤)
  - [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞–º–∏](#6-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–ø–∞–∫–µ—Ç–∞–º–∏)
- [–†–∞–±–æ—Ç–∞ —Å Ansible –ø–ª–µ–π–±—É–∫–æ–º](#—Ä–∞–±–æ—Ç–∞-—Å-–≤–∞—à–∏–º-–ø–ª–µ–π–±—É–∫–æ–º-ansible)
- [–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤](#–∫–∞–∫-–∫–ª–∏–µ–Ω—Ç—ã-–ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è-–∫-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º)
- [–£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#—É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)
- [–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è](#—Ç–∏–ø–∏—á–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã-–∏-—Ä–µ—à–µ–Ω–∏—è)
- [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-—Å–æ—Å—Ç–æ—è–Ω–∏—è)
- [–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏](#—Ä–∞–∑–Ω–∏—Ü–∞-–º–µ–∂–¥—É-–∫–æ–º–∞–Ω–¥–∞–º–∏)

---

## üìã **–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Aptly**

### **–õ–æ–∫–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:**
```
runtel-astra-dev      (27 –ø–∞–∫–µ—Ç–æ–≤)   ‚Üê DEV –¥–ª—è Astra
runtel-astra          (534 –ø–∞–∫–µ—Ç–∞)   ‚Üê PROD –¥–ª—è Astra
runtel-bookworm-dev   (38 –ø–∞–∫–µ—Ç–æ–≤)   ‚Üê DEV –¥–ª—è Debian 12
runtel-bookworm       (473 –ø–∞–∫–µ—Ç–∞)   ‚Üê PROD –¥–ª—è Debian 12
runtel-bullseye-dev   (20 –ø–∞–∫–µ—Ç–æ–≤)   ‚Üê DEV –¥–ª—è Debian 11
runtel-bullseye       (485 –ø–∞–∫–µ—Ç–æ–≤)  ‚Üê PROD –¥–ª—è Debian 11
runtel                (142 –ø–∞–∫–µ—Ç–∞)   ‚Üê Legacy Debian 10
```

### **–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:**
```
./1.7_x86-64   ‚Üí {dev: [runtel-astra-dev], main: [runtel-astra]}
./bookworm     ‚Üí {dev: [runtel-bookworm-dev], main: [runtel-bookworm]}
./bullseye     ‚Üí {dev: [runtel-bullseye-dev], main: [runtel-bullseye]}
./buster       ‚Üí {main: [runtel]}
```

---

## üöÄ **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã**

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è**

#### –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
```bash
aptly repo list
```

#### –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (–¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞)
```bash
aptly publish list
```

#### –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
```bash
aptly repo show runtel-bookworm
aptly repo show runtel-bookworm-dev
aptly repo show runtel-astra-dev
# –∏ —Ç.–¥.
```

#### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
```bash
aptly publish show bookworm

# –ò–ª–∏ —Å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º–∏
aptly publish list -json | python3 -m json.tool
```

#### –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
# –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
aptly repo create borishof-buster

# –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
aptly publish repo borishof-buster buster

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–∞–∫–µ—Ç–æ–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
aptly repo search runtel | grep 'runtel-borishof'

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
apt update
apt search runtel-borishof-v2
```

### **2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏**
```bash
# –î–æ–±–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç –≤ DEV —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Debian 12
aptly repo add -remove-files runtel-bookworm-dev /tmp/debs/deb12/<deb_package.deb>

# –î–æ–±–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç –≤ PROD —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Debian 12
aptly repo add -remove-files runtel-bookworm /tmp/debs/deb12/<deb_package.deb>

# –î–æ–±–∞–≤–∏—Ç—å –í–°–ï .deb —Ñ–∞–π–ª—ã –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
aptly repo add runtel-bookworm-dev /tmp/debs/deb12/
```

### **3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤**
```bash
# –û–±–Ω–æ–≤–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é Debian 12 (–æ–±–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: dev –∏ main)
aptly publish update bookworm

# –û–±–Ω–æ–≤–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é Debian 11
aptly publish update bullseye

# –û–±–Ω–æ–≤–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é Astra
aptly publish update 1.7_x86-64
```

### **4. –ü–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–æ–≤**
```bash
# –ü–æ–∏—Å–∫ –≤ DEV —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Debian 12
aptly repo search runtel-bookworm-dev "–Ω–∞–∑–≤–∞–Ω–∏–µ-–ø–∞–∫–µ—Ç–∞"

# –ü–æ–∏—Å–∫ –≤ PROD —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ Debian 12
aptly repo search runtel-bookworm "–Ω–∞–∑–≤–∞–Ω–∏–µ-–ø–∞–∫–µ—Ç–∞"

# –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏
aptly repo search runtel-bookworm-dev "2.22.3"

# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–∞ –≤ DEV
aptly repo search runtel-bookworm-dev "runtel-web-v2" | grep "2.22.3"
aptly repo search runtel-bookworm-dev | grep "runtel-*" | grep "2.22.3"

# –ü–æ–∏—Å–∫ –≤–æ –≤—Å–µ—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
aptly package search
aptly package search "runtel-web-v2"
aptly package search "runtel-iface-v2"
```

### **5. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤**
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ø–∞–∫–µ—Ç—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
aptly repo show -with-packages runtel-bookworm-dev
aptly repo show -with-packages runtel-bookworm

# –° —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
aptly repo show -with-packages runtel-bookworm-dev | tail -20
aptly repo show -with-packages runtel-bookworm-dev | grep "2.22.3"
```

### **6. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞–º–∏**
```bash
# –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
aptly repo remove runtel-bookworm-dev "runtel-web-v2 (=2.22.3-1-deb12)"

# –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–∞
aptly repo remove runtel-bookworm-dev "runtel-web-v2"

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ (–æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—É—é –∏ –Ω–æ–≤–µ–µ)
aptly repo remove runtel-bookworm-dev "runtel-web-v2 (<< 2.22.3)"
```

---

## üîß **–†–∞–±–æ—Ç–∞ —Å –≤–∞—à–∏–º –ø–ª–µ–π–±—É–∫–æ–º Ansible**

### **–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–ª–µ–π–±—É–∫–∞:**
```yaml
# PROD - –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ runtel-bookworm
- name: aptly add PROD package to repo
  shell: "aptly repo add -remove-files runtel-bookworm /tmp/debs/deb12/"
  when: is_prod == 'true'

# DEV - –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ runtel-bookworm-dev
- name: aptly add DEV package to repo
  shell: "aptly repo add -remove-files runtel-bookworm-dev /tmp/debs/deb12/"
  when: is_prod == 'false'

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–æ–¥–∏–Ω–∞–∫–æ–≤–æ –¥–ª—è PROD –∏ DEV)
- name: aptly publish package
  shell: "aptly publish update bookworm"
```

### **–ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –ø–ª–µ–π–±—É–∫–µ:**
```yaml
# –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- name: aptly add DEV package to repo
  shell: "aptly repo add -remove-files runtel-bookworm-dev /tmp/debs/deb12/"
  when: is_prod == 'false'
  register: aptly_add_result
  failed_when: aptly_add_result.rc != 0

- name: Debug aptly add result
  debug:
    var: aptly_add_result
  when: is_prod == 'false'
```

---

## üåê **–ö–∞–∫ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º**

### **–î–ª—è —Å–µ—Ä–≤–µ—Ä–æ–≤:**
```bash
# PROD Debian 12 (bookworm)
deb http://109.172.31.8/ bookworm main
deb http://repo.runtel.ru bookworm main

# DEV Debian 12 (bookworm) 
deb http://109.172.31.8/ bookworm dev

# PROD Debian 11 (bullseye)
deb http://109.172.31.8/ bullseye main

# DEV Debian 11 (bullseye)
deb http://109.172.31.8/ bullseye dev

# PROD Astra
deb http://109.172.31.8/ 1.7_x86-64 main

# DEV Astra
deb http://109.172.31.8/ 1.7_x86-64 dev
```

**–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –º–∞—à–∏–Ω—ã:**
1. –î–æ–±–∞–≤–∏—Ç—å –≤ —Ñ–∞–π–ª `/etc/apt/sources.list` –∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/etc/apt/sources.list.d/` —Å—Ç—Ä–æ–∫—É:
   ```bash
   deb http://repo-new/runtel/ buster main
   ```
   –∏–ª–∏
   ```bash
   deb http://10.30.50.250/buster/ borishof main
   ```
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å:
   ```bash
   sudo apt update
   sudo apt install runtel-borishof-v2
   ```

---

## üõ† **–£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
aptly db cleanup

# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
aptly db stats

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
aptly package depends –∏–º—è-–ø–∞–∫–µ—Ç–∞
```

### **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞—Ç—å —Å–Ω–∞–ø—à–æ—Ç –¥–ª—è –±—ç–∫–∞–ø–∞
aptly snapshot create backup-$(date +%Y%m%d) from repo runtel-bookworm
aptly snapshot create backup-dev-$(date +%Y%m%d) from repo runtel-bookworm-dev

# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
aptly repo export runtel-bookworm backup-bookworm.json
```

---

## üö® **–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è**

### **1. –ü–∞–∫–µ—Ç –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –¥–æ–±–∞–≤–ª–µ–Ω –ª–∏ –ø–∞–∫–µ—Ç
aptly repo search runtel-bookworm-dev "–∏–º—è-–ø–∞–∫–µ—Ç–∞"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è
aptly publish show bookworm

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
ls -la /–ø—É—Ç—å/–∫/–ø—É–±–ª–∏–∫–∞—Ü–∏–∏/bookworm/pool/main/
```

### **2. –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ø–∞–∫–µ—Ç–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la /tmp/debs/deb12/–ø–∞–∫–µ—Ç.deb

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å .deb —Ñ–∞–π–ª–∞
dpkg -I /tmp/debs/deb12/–ø–∞–∫–µ—Ç.deb

# –î–æ–±–∞–≤–∏—Ç—å –±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
aptly repo add runtel-bookworm-dev /tmp/debs/deb12/–ø–∞–∫–µ—Ç.deb
```

### **3. –ö–ª–∏–µ–Ω—Ç—ã –Ω–µ –≤–∏–¥—è—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
```bash
# –û–±–Ω–æ–≤–∏—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é
aptly publish update bookworm

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
curl -s http://109.172.31.8/bookworm/dists/bookworm/Release

# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à apt –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞—Ö
apt-get update
```

---

## üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è**

### **–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```bash
#!/bin/bash
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ Aptly ==="
echo

echo "1. –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:"
aptly repo list

echo -e "\n2. –û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:"
aptly publish list

echo -e "\n3. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞–∫–µ—Ç–æ–≤:"
for repo in $(aptly repo list -raw); do
  count=$(aptly repo show $repo | grep "Number of packages" | awk '{print $4}')
  echo "  $repo: $count –ø–∞–∫–µ—Ç–æ–≤"
done
```

---

## üìä **–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏**

### **–ö–æ–º–∞–Ω–¥–∞ 1:**
```bash
aptly repo show -with-packages runtel | grep "borishof"
```
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ `runtel`, –≤–∫–ª—é—á–∞—è —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
- **–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞**: –í—ã–≤–æ–¥–∏—Ç –∏–º–µ–Ω–∞ –ø–∞–∫–µ—Ç–æ–≤ —Å –æ—Ç—Å—Ç—É–ø–æ–º (2 –ø—Ä–æ–±–µ–ª–∞ –≤ –Ω–∞—á–∞–ª–µ)

### **–ö–æ–º–∞–Ω–¥–∞ 2:**
```bash
aptly repo search runtel | grep "borishof"
```
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò—â–µ—Ç –ø–∞–∫–µ—Ç—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ `runtel` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
- **–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞**: –í—ã–≤–æ–¥–∏—Ç –∏–º–µ–Ω–∞ –ø–∞–∫–µ—Ç–æ–≤ –±–µ–∑ –æ—Ç—Å—Ç—É–ø–æ–≤, –∫–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ

### **–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:**
1. **–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞**: 
   - `repo show` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥ —Å –æ—Ç—Å—Ç—É–ø–∞–º–∏
   - `repo search` - –ø—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –±–µ–∑ –æ—Ç—Å—Ç—É–ø–æ–≤

2. **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**:
   - `repo show` - –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º
   - `repo search` - –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**:
   - `repo search` –º–æ–∂–µ—Ç –±—ã—Ç—å –±—ã—Å—Ç—Ä–µ–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
   - `repo show` –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–û–±–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç, —á—Ç–æ –ø–∞–∫–µ—Ç—ã —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `runtel`, —á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ playbook.
