Тренировка на https://regex101.com/
<br/> Статья https://ru.wikipedia.org/wiki/Регулярные_выражения


## **1. Базовые метасимволы**  
### **`.` — Любой символ (кроме `\n`)**  
**Пример:**  
```regex
a.c
```
**Совпадения:**  
- `"abc"` ✅  
- `"aXc"` ✅  
- `"a\nc"` ❌ (`.` не включает перевод строки, если не стоит флаг `s`)  


### **`^` — Начало строки**  
**Пример:**  
```regex
^Hello
```
**Совпадения:**  
- `"Hello world"` ✅  
- `"Say Hello"` ❌  


### **`$` — Конец строки**  
**Пример:**  
```regex
world$
```
**Совпадения:**  
- `"Hello world"` ✅  
- `"worldly"` ❌  


### **`*` — 0 или более повторений**  
**Пример:**  
```regex
ab*c
```
**Совпадения:**  
- `"ac"` ✅ (`b` нет)  
- `"abc"` ✅  
- `"abbc"` ✅  
- `"aXc"` ❌  



### **`+` — 1 или более повторений**  
**Пример:**  
```regex
ab+c
```
**Совпадения:**  
- `"abc"` ✅  
- `"abbc"` ✅  
- `"ac"` ❌  



### **`?` — 0 или 1 повторение**  
**Пример:**  
```regex
colou?r
```
**Совпадения:**  
- `"color"` ✅  
- `"colour"` ✅  
- `"colouur"` ❌  



## **2. Квантификаторы `{ }`**  
### **`{n}` — Ровно `n` раз**  
**Пример:**  
```regex
a{3}
```
**Совпадения:**  
- `"aaa"` ✅  
- `"aa"` ❌  



### **`{n,}` — `n` или более раз**  
**Пример:**  
```regex
a{2,}
```
**Совпадения:**  
- `"aa"` ✅  
- `"aaa"` ✅  
- `"a"` ❌  



### **`{n,m}` — От `n` до `m` раз**  
**Пример:**  
```regex
a{2,4}
```
**Совпадения:**  
- `"aa"` ✅  
- `"aaa"` ✅  
- `"aaaa"` ✅  
- `"a"` ❌  



## **3. Классы символов `[ ]`**  
### **`[abc]` — Любой из символов `a`, `b`, `c`**  
**Пример:**  
```regex
gr[ae]y
```
**Совпадения:**  
- `"gray"` ✅  
- `"grey"` ✅  
- `"gry"` ❌  



### **`[^abc]` — Любой символ, кроме `a`, `b`, `c`**  
**Пример:**  
```regex
[^0-9]
```
**Совпадения:**  
- `"A"` ✅  
- `"5"` ❌  



### **`\d` — Цифра (`[0-9]`)**  
**Пример:**  
```regex
\d+
```
**Совпадения:**  
- `"123"` ✅  
- `"abc"` ❌  

 

### **`\w` — Буква, цифра или `_` (`[a-zA-Z0-9_]`)**  
**Пример:**  
```regex
\w+
```
**Совпадения:**  
- `"user123"` ✅  
- `"hello_world"` ✅  
- `"@admin"` ❌  

 

## **4. Группировка `( )` и альтернативы `|`**  
### **`(abc)` — Группа захвата**  
**Пример:**  
```regex
(ab)+
```
**Совпадения:**  
- `"abab"` ✅ (группа `ab` повторяется)  
- `"abb"` ❌  

 

### **`|` — Логическое "ИЛИ"**  
**Пример:**  
```regex
cat|dog
```
**Совпадения:**  
- `"cat"` ✅  
- `"dog"` ✅  
- `"bird"` ❌  

 

## **5. Экранирование `\`**  
### **`\.` — Точка (не любой символ)**  
**Пример:**  
```regex
example\.com
```
**Совпадения:**  
- `"example.com"` ✅  
- `"exampleXcom"` ❌  

 

## **6. Утверждения (lookahead, lookbehind)**  
### **`(?=...)` — Позитивный просмотр вперёд**  
**Пример:**  
```regex
\d(?=px)
```
**Совпадения:**  
- В `"2px"` найдёт `2`, если после него `px`  

 

### **`(?<=...)` — Просмотр назад**  
**Пример:**  
```regex
(?<=\$)\d+
```
**Совпадения:**  
- В `"$100"` найдёт `100`, если перед ним `$`  

 

## **7. Флаги (модификаторы)**  
### **`/i` — Регистронезависимый поиск**  
**Пример:**  
```regex
/hello/i
```
**Совпадения:**  
- `"Hello"` ✅  
- `"HELLO"` ✅  

 

### **`/g` — Глобальный поиск (все вхождения)**  
**Пример (JavaScript):**  
```javascript
"a1 a2 a3".match(/a\d/g) // ["a1", "a2", "a3"]
```

 

### **`/m` — Многострочный режим (`^` и `$` работают для каждой строки)**  
**Пример:**  
```regex
/^hello/m
```
**Совпадения:**  
```
hello world  ✅ (первая строка)
test hello   ❌
```


Отлично! Давайте разберём **сложные и практичные примеры** регулярных выражений, которые могут пригодиться в реальных задачах.  

 

## **1. Валидация email**  
**Регулярка:**  
```regex
^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$
```
**Пояснение:**  
- `^[a-zA-Z0-9._%+-]+` — начало строки, символы до `@` (буквы, цифры, `.`, `_`, `%`, `+`, `-`)  
- `@[a-zA-Z0-9.-]+` — домен после `@` (можно с точками и дефисами)  
- `\.[a-zA-Z]{2,}$` — доменная зона (от 2+ букв, например `.com`, `.io`)  

**Примеры:**  
✅ `user@example.com`  
✅ `john.doe+123@sub.domain.co.uk`  
❌ `invalid@.com`  

 

## **2. Поиск всех HTML-тегов**  
**Регулярка:**  
```regex
<([a-z][a-z0-9]*)[^>]*>(.*?)<\/\1>
```
**Пояснение:**  
- `<([a-z][a-z0-9]*)` — открывающий тег (`<div>`, `<h1>`)  
- `[^>]*>` — любые символы, кроме `>`, до закрытия тега  
- `(.*?)` — содержимое тега (нежадный поиск)  
- `<\/\1>` — закрывающий тег (`</div>`, `</h1>`)  

**Пример:**  
```html
<div class="header">Title</div>  → Найдёт `<div>Title</div>`
```

 

## **3. Поиск всех URL**  
**Регулярка:**  
```regex
https?:\/\/(?:www\.)?[a-zA-Z0-9-]+\.[a-zA-Z]{2,}(?:\/[^\s]*)?
```
**Пояснение:**  
- `https?` — `http` или `https`  
- `:\/\/` — экранированные `://`  
- `(?:www\.)?` — опциональный `www.`  
- `[a-zA-Z0-9-]+\.[a-zA-Z]{2,}` — домен (например, `google.com`)  
- `(?:\/[^\s]*)?` — опциональный путь (`/page`, `/search?q=regex`)  

**Примеры:**  
✅ `https://www.example.com/path`  
✅ `http://sub.domain.org`  
❌ `ftp://example.com`  

 

## **4. Парсинг логов (дата + сообщение)**  
**Лог:**  
```
2023-10-25 12:30:45 ERROR: Disk full
2023-10-25 12:31:10 INFO: Backup completed
```
**Регулярка:**  
```regex
^(\d{4}-\d{2}-\d{2}) (\d{2}:\d{2}:\d{2}) (\w+): (.+)$
```
**Разбор:**  
- `^(\d{4}-\d{2}-\d{2})` — дата (`2023-10-25`)  
- `(\d{2}:\d{2}:\d{2})` — время (`12:30:45`)  
- `(\w+)` — уровень лога (`ERROR`, `INFO`)  
- `(.+)$` — сообщение (`Disk full`)  

**Результат (в группах):**  
1. `2023-10-25`  
2. `12:30:45`  
3. `ERROR`  
4. `Disk full`  

 

## **5. Поиск чисел с плавающей точкой**  
**Регулярка:**  
```regex
-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?
```
**Пояснение:**  
- `-?` — опциональный минус  
- `\d+` — целая часть (`123`)  
- `(?:\.\d+)?` — опциональная дробная часть (`.456`)  
- `(?:[eE][+-]?\d+)?` — опциональная экспонента (`e-10`)  

**Примеры:**  
✅ `3.14`  
✅ `-0.001`  
✅ `2e10`  
❌ `1.2.3`  

 

## **6. Поиск всех хештегов (#tag)**  
**Регулярка:**  
```regex
#\w+
```
**Пример:**  
```text
Hello #world! This is a #regex example.
```
**Найдёт:**  
- `#world`  
- `#regex`  

 

## **7. Удаление HTML-комментариев**  
**Регулярка:**  
```regex
<!--.*?-->
```
**Пример:**  
```html
<!-- Hidden comment --> <p>Visible</p> <!-- Another -->
```
**После замены на `""`:**  
```html
<p>Visible</p>
```

 

## **8. Проверка сложности пароля**  
**Условия:**  
- 8+ символов  
- минимум 1 цифра  
- минимум 1 буква в верхнем регистре  
- минимум 1 спецсимвол  

**Регулярка:**  
```regex
^(?=.*\d)(?=.*[A-Z])(?=.*[!@#$%^&*]).{8,}$
```
**Пояснение:**  
- `(?=.*\d)` — минимум 1 цифра  
- `(?=.*[A-Z])` — минимум 1 заглавная буква  
- `(?=.*[!@#$%^&*])` — минимум 1 спецсимвол  
- `.{8,}` — длина от 8 символов  

**Примеры:**  
✅ `Passw0rd!`  
❌ `weakpass`  

 

## **9. Разбор CSV строки**  
**CSV:**  
```csv
"John","Doe","30","New York"
```
**Регулярка:**  
```regex
"(.*?)"|([^,]+)
```
**Пояснение:**  
- `"(.*?)"` — значения в кавычках (`"John"`)  
- `|` — или  
- `([^,]+)` — значения без кавычек (`30`)  

**Результат:**  
1. `John`  
2. `Doe`  
3. `30`  
4. `New York`  

 

## **10. Поиск дублирующихся слов**  
**Регулярка:**  
```regex
\b(\w+)\b\s+\1\b
```
**Пример:**  
```text
This is is a test test sentence.
```
**Найдёт:**  
- `is is`  
- `test test`  

 

## **Итог**  
Эти примеры охватывают **сложные, но полезные** сценарии:  
✅ Валидация данных (email, пароль)  
✅ Парсинг структурированного текста (логи, CSV)  
✅ Поиск паттернов (хештеги, дубликаты)  
✅ Очистка текста (HTML-комментарии)  

Регулярные выражения — мощный инструмент для поиска и замены текста. 
Основные концепции:  
- **`.`**, `^`, `$` — базовые метасимволы  
- `*`, `+`, `?`, `{ }` — квантификаторы  
- `[ ]`, `\d`, `\w`, `\s` — классы символов  
- `( )`, `|` — группировка и "ИЛИ"  
- `\` — экранирование спецсимволов  
- `(?= )`, `(?<= )` — просмотры  
- Флаги (`i`, `g`, `m`) — модификаторы поиска  
-------------------------------------------------------

Регулярное выражение `^(?:\+7|7|8)?(\d{10})$` написано на **универсальном синтаксисе регулярных выражений (RegEx)**, который поддерживается практически во всех современных языках программирования, включая:  

### **1. Языки, где этот шаблон будет работать**  
- **Python** (`re` модуль)  
- **JavaScript** (`RegExp`)  
- **PHP** (`preg_match`)  
- **Java** (`java.util.regex`)  
- **C#** (`System.Text.RegularExpressions`)  
- **Perl**  
- **Ruby**  
- **Go**  
- **Bash** (с `grep -E`, `sed`, `awk`)  

### **2. Особенности синтаксиса**  
- `^` и `$` — якоря для начала и конца строки.  
- `(?:...)` — **незахватывающая группа** (не создаёт отдельную группу в результатах).  
- `\+7` — экранированный `+` (так как `+` в RegEx означает «1 или более повторений»).  
- `\d{10}` — ровно 10 цифр.  

### **3. Примеры использования в разных языках**  

#### **Python**  
```python
import re

pattern = r'^(?:\+7|7|8)?(\d{10})$'
phone = "79123456789"
match = re.fullmatch(pattern, phone)

if match:
    print("Номер корректен:", match.group(1))  # 9123456789
else:
    print("Неверный формат")
```

#### **JavaScript**  
```javascript
const pattern = /^(?:\+7|7|8)?(\d{10})$/;
const phone = "89123456789";

if (pattern.test(phone)) {
    const cleanNumber = phone.replace(pattern, '$1');
    console.log("Номер без префикса:", cleanNumber); // 9123456789
}
```

#### **PHP**  
```php
$pattern = '/^(?:\+7|7|8)?(\d{10})$/';
$phone = "+79123456789";

if (preg_match($pattern, $phone, $matches)) {
    echo "Номер без префикса: " . $matches[1]; // 9123456789
}
```
---------------------------------------------------------------------------

Это регулярное выражение предназначено для поиска и проверки телефонных номеров, которые могут быть записаны в различных форматах, но в итоге содержат 7 цифр.  

### Разбор регулярного выражения:  
`^(?:\+3572|3572|003572|2)?(\d{7})$`  

1. **`^`** — начало строки.  
2. **`(?:\+3572|3572|003572|2)?`** — необязательная группа (из-за `?`), содержащая варианты префиксов:  
   - `\+3572` — номер начинается с `+3572` (международный формат для Кипра).  
   - `3572` — то же самое, но без `+`.  
   - `003572` — альтернативный международный формат (`00` вместо `+`).  
   - `2` — локальный формат (например, если номер записан как `2XXXXXXX`).  
3. **`(\d{7})`** — основная часть номера, состоящая ровно из 7 цифр (`\d` означает цифру).  
4. **`$`** — конец строки.  

### Как это работает?  
Регулярное выражение ищет номера, которые:  
- Могут начинаться с одного из префиксов (`+3572`, `3572`, `003572`, `2`), но это необязательно.  
- Обязательно содержат **7 цифр** после префикса (если он есть) или просто 7 цифр (если префикса нет).  

### Примеры совпадений:  
- `+35721234567` → `1234567` (извлекается часть в скобках).  
- `35729999999` → `9999999`.  
- `0035721111111` → `1111111`.  
- `23456789` → `3456789` (если префикс `2` считается частью номера).  
- `9876543` → `9876543` (если префикса нет, но 7 цифр есть).  

### Примеры НЕ-совпадений:  
- `+3571234567` (неправильный префикс).  
- `35712345678` (слишком много цифр).  
- `123456` (мало цифр).  
---------------------------------------------------------------------------

Отличный вопрос! **Regex101.com** — это мощный инструмент для тестирования и отладки регулярных выражений. Чтобы эффективно тренироваться, нужно правильно подбирать **тестовые строки** и анализировать результаты.  

### **Как тестировать себя на Regex101?**  
1. **Откройте [regex101.com](https://regex101.com/)**  
   - Выберите язык (PCRE, JavaScript, Python и др.).  
   - Вставьте своё регулярное выражение в поле **`Regular Expression`**.  

2. **Подготовьте тестовые строки**  
   - В поле **`Test String`** добавьте примеры, которые должны **совпадать** (✔) и **не совпадать** (✖) с вашим шаблоном.  

3. **Анализируйте результат**  
   - Совпадения подсвечиваются.  
   - Во вкладке **`Explanation`** можно увидеть пошаговый разбор.  



### **Пример тренировки**  
Допустим, вы учитесь писать регулярки для **телефонных номеров** в формате:  
- `+79161234567`  
- `89161234567`  
- `79161234567`  
- `9161234567`  

#### **Регулярное выражение:**  
```regex
^(\+7|8|7)?(\d{10})$
```  
#### **Тестовые строки:**  
```text
+79161234567  ✔  
89161234567   ✔  
79161234567   ✔  
9161234567    ✔  
+7916123456   ✖ (9 цифр вместо 10)  
9191234567    ✔ (но может быть ошибкой, если код должен быть 916)  
+39161234567  ✖ (неправильный код страны)  
```  



### **Как составлять тестовые данные?**  
1. **Позитивные тесты (должны совпадать):**  
   - Стандартные валидные случаи.  
   - Граничные случаи (минимальная/максимальная длина).  

2. **Негативные тесты (не должны совпадать):**  
   - Неправильные форматы.  
   - Лишние символы.  
   - Слишком короткие/длинные строки.  



### **Примеры заданий для самопроверки**  
| Задача | Регулярка | Тестовые строки |
|--------|-----------|-----------------|
| **Найти даты `DD-MM-YYYY`** | `\b\d{2}-\d{2}-\d{4}\b` | `01-01-2020` ✔, `2020-01-01` ✖ |
| **Найти email** | `\b[\w.-]+@[\w.-]+\.\w{2,}\b` | `test@mail.com` ✔, `test@mail` ✖ |
| **Найти HEX-цвета** | `#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})\b` | `#ff00ff` ✔, `#zzz` ✖ |

