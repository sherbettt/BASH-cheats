### § Запуск контейнеров
 [cht.sh/podman](https://cheat.sh/podman)
<br/> [cht.sh/podman-run](https://cheat.sh/podman-run)
<br/> [cht.sh/podman-build](https://cheat.sh/podman-build)
<br/> [cht.sh/podman-build](https://cheat.sh/podman-build)
<br/> [cht.sh/podman-images](https://cheat.sh/podman-images)
<br/> [cht.sh/podman-compose](https://cheat.sh/podman-compose)

**Podman** — это демон-контейнеризатора, созданный для запуска контейнеров Docker-образов в средах Linux без использования демона Docker. По умолчанию Podman включен в дистрибутивы Red Hat Enterprise Linux (RHEL), Fedora и другие системы семейства Red Hat. Поскольку RedOS является дистрибутивом на основе RHEL, работа с контейнерами там аналогична.

## Особенности использования в RedOS

RedOS представляет собой специализированный вариант Red Hat Linux, адаптированный для российских пользователей и организаций. Работать с Podman в RedOS практически идентично работе в любом другом дистрибутиве на основе RHEL. Все приведённые выше команды применимы и в RedOS 8.0.

Основные отличия могут касаться политики безопасности SELinux и конфигурации сетей, однако стандартные методы работы с контейнерами остаются неизменными.

Таким образом, переход от классического Docker к Podman прост и обеспечивает большую гибкость и безопасность при запуске контейнеров в системах на базе Red Hat Linux и его производных, включая RedOS.

## Подготовка

### Установка Podman

Для установки **podman**, выполните следующую команду:
```bash
sudo dnf install podman
```

Поддержка графического интерфейса также доступна через утилиту `buildah` и систему управления контейнерами `skopeo`, оба пакета устанавливаются вместе с podman.

---

## Основные команды для работы с Podman

### Запуск существующего образа контейнера

Чтобы запустить контейнер на основе существующего образа, например, Alpine Linux:
```bash
podman run -it alpine /bin/sh
```

*Флаги:*  
- `-i`: интерактивный режим (stdin открыт).  
- `-t`: выделение псевдотерминала (`/dev/tty`) внутри контейнера.

### Скачать образ из репозитория

Загрузить новый образ, например, официальный CentOS:
```bash
podman pull centos
```

Проверить загруженный образ:
```bash
podman images
```

### Остановить запущенный контейнер

Чтобы остановить работающий контейнер:
```bash
podman stop <container_id_or_name>
```

### Удаление остановленного контейнера

Удалить ненужный контейнер:
```bash
podman rm <container_id_or_name>
```

---

## Дополнительные возможности Podman

### Работа с сетью

Контейнеры автоматически получают доступ к сети, используя локальную сеть bridge-интерфейса `cni-podman`. Для настройки сети вручную, используется конфигурационный файл `/etc/cni/net.d/*`.

### Управление хранилищем образов

Podman хранит образы в специальном каталоге хранения по пути `/var/lib/containers/storage`. Чтобы очистить неиспользуемые слои и временные файлы:
```bash
podman system prune
```

### Создание нового образа

Можно создать собственный образ контейнера с использованием файлов `Dockerfile` следующим образом:
```bash
# Создаем Dockerfile
cat <<EOF > Dockerfile
FROM ubuntu:latest
RUN apt-get update && apt-get install -y python3
CMD ["python3"]
EOF

# Собираем образ
podman build -t my_python_image .
```

Затем запустите собранный образ:
```bash
podman run -it my_python_image
```

----------------------------------------------












