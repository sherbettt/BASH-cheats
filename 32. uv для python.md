# –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é UV –¥–ª—è Python

[UV](https://astral-sh.vercel.app/blog/uv-unified-python-packaging) ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ pip –∏ pip-tools, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è Astral (—Å–æ–∑–¥–∞—Ç–µ–ª—è–º–∏ Ruff). –û–Ω –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø–∞–∫–µ—Ç–∞–º–∏ Python. 
–°–º. –∏—Å—Ö–æ–¥–Ω–∏–∫ https://github.com/astral-sh/uv

## **–ß—Ç–æ —Ç–∞–∫–æ–µ uv?**

**uv** ‚Äî —ç—Ç–æ –±—ã—Å—Ç—Ä—ã–π Python –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏ –æ—Ç —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π Ruff. –û–Ω –∑–∞–º–µ–Ω—è–µ—Ç:
- pip
- venv
- virtualenv
- pipenv
- poetry (—á–∞—Å—Ç–∏—á–Ω–æ)


## –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ UV

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ pip
```bash
pip install uv
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ pipx (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏)
```bash
pipx install uv
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
```bash
uv --version
```

## **–ò—Å–ø—Ä–∞–≤–ª—è–µ–º –ø—Ä–æ–±–ª–µ–º—É —Å PATH –¥–ª—è pipx**

```bash
# 1. –î–æ–±–∞–≤–ª—è–µ–º pipx –≤ PATH
pipx ensurepath

# 2. –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é
source ~/.bashrc
# –∏–ª–∏
exec bash

# 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º
which uv
uv --version
```


## –î–µ—Ç–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

### 1. –†–∞–±–æ—Ç–∞ —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
```bash
# –ì–ª–æ–±–∞–ª—å–Ω–æ (—á–µ—Ä–µ–∑ pipx —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏)
uv --version

# –í –ø—Ä–æ–µ–∫—Ç (—Å–æ–∑–¥–∞—Å—Ç venv –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
uv pip install pyinstaller
uv pip install requests pandas

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ requirements.txt
uv pip install -r requirements.txt
```

#### –°–æ–∑–¥–∞–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
uv venv .venv  # –°–æ–∑–¥–∞–µ—Ç –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
uv venv /path/to/venv  # –° —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—É—Ç–∏
```

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```bash
uv venv --python=3.10 .venv  # –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–µ—Ä—Å–∏–∏ Python
uv venv --seed .venv  # –° –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–æ–π pip –∏ setuptools
```

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞–º–∏

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
```bash
uv pip install package  # –û–¥–∏–Ω –ø–∞–∫–µ—Ç
uv pip install package1 package2  # –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–∞–∫–µ—Ç–æ–≤
uv pip install -e .  # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∑ requirements.txt
```bash
uv pip install -r requirements.txt
```

#### –û—Å–æ–±—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
```bash
uv pip install "package>=1.0,<2.0"  # –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–µ—Ä—Å–∏–π
uv pip install --no-deps package  # –ë–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
uv pip install --index-url https://pypi.org/simple/ package
```

### 3. –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π (–∞–Ω–∞–ª–æ–≥ pip-compile)

#### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```bash
uv pip compile requirements.in -o requirements.txt
```

#### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏:
```bash
uv pip compile pyproject.toml -o requirements.txt  # –ò–∑ pyproject.toml
uv pip compile --upgrade package requirements.in  # –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–∞–∫–µ—Ç
uv pip compile --all-extras requirements.in  # –°–æ –≤—Å–µ–º–∏ extras
```

#### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:
```bash
uv pip compile requirements.in -o requirements.txt --python-version 3.8
uv pip compile dev-requirements.in -o dev-requirements.txt
```

### 4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
uv pip sync requirements.txt  # –¢–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ requirements.txt
uv pip sync requirements.txt --reinstall  # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
```

### 5. –î—Ä—É–≥–∏–µ –ø–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

#### –ü—Ä–æ—Å–º–æ—Ç—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤:
```bash
uv pip list
uv pip show package
```

#### –£–¥–∞–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤:
```bash
uv pip uninstall package
```

#### –ó–∞–º–æ—Ä–æ–∑–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
uv pip freeze > requirements.txt
uv pip freeze --exclude-editable > requirements.txt
```

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Å UV (–¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä)

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞**:
```bash
mkdir myproject && cd myproject
python -m uv venv .venv
```

2. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
   - Windows:
     ```bash
     .\.venv\Scripts\activate
     ```
   - Unix/macOS:
     ```bash
     source .venv/bin/activate
     ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
```bash
uv pip install fastapi uvicorn
```

4. **–°–æ–∑–¥–∞–Ω–∏–µ requirements.in**:
```text
fastapi
uvicorn[standard]
pytest; python_version < "3.12"
```

5. **–ö–æ–º–ø–∏–ª—è—Ü–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π**:
```bash
uv pip compile requirements.in -o requirements.txt
```

6. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
```bash
uv pip sync requirements.txt
```

7. **–†–∞–±–æ—Ç–∞ –≤ –∫–æ–º–∞–Ω–¥–µ**:
```bash
uv pip sync requirements.txt  # –î–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
```

## –°–æ–≤–µ—Ç—ã –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--cache-dir` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫—ç—à–∞:
```bash
uv pip install --cache-dir ~/.uv-cache package
```

2. –î–ª—è CI/CD –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–ª–∞–≥ `--no-cache`:
```bash
uv pip install --no-cache package
```

3. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
UV_PIP_INSTALL_CONCURRENCY=8 uv pip install -r requirements.txt
```

## –û—Ç–ª–∏—á–∏—è –æ—Ç pip

1. UV –∫—ç—à–∏—Ä—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ
2. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ
3. –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–æ–≤
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–æ–≤ (wheels)

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏:
1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à:
```bash
uv clean
```

2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
UV_LOG_LEVEL=debug uv pip install package
```

3. –î–ª—è –ø—Ä–æ–±–ª–µ–º —Å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é:
```bash
uv pip install --resolution=lowest-direct package
```


## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ uv:**

1. **–ë—ã—Å—Ç—Ä–µ–µ** ‚Äî –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ Rust
2. **–ü—Ä–æ—â–µ** ‚Äî –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –≤–º–µ—Å—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö
3. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–µ–µ** ‚Äî –∑–∞–º–µ–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
4. **–õ—É—á—à–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Äî –±–æ–ª–µ–µ —É–º–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π
5. **uvx** ‚Äî –∑–∞–ø—É—Å–∫ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (—Å—É–ø–µ—Ä—Ñ–∏—á–∞!)

---------------------------------------------------------------
<br/>


## **–ú–æ–π —Å–ª—É—á–∞–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**

```bash
# 1. –ò—Å–ø—Ä–∞–≤–ª—è–µ–º PATH –¥–ª—è pipx
pipx ensurepath
source ~/.bashrc

# 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ uv —Ä–∞–±–æ—Ç–∞–µ—Ç
uv --version

# 3. –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
cd ~/git/runtel_opensips_sbc
uv venv .venv

# 4. –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º
source .venv/bin/activate

# 5. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
uv pip install pyinstaller

# 6. –°–æ–±–∏—Ä–∞–µ–º —Å–∫—Ä–∏–ø—Ç
pyinstaller --onefile –≤–∞—à_—Å–∫—Ä–∏–ø—Ç.py

# 7. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º uvx –±–µ–∑ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
uvx pyinstaller --onefile –≤–∞—à_—Å–∫—Ä–∏–ø—Ç.py
```

## ‚ö° **–ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–±–æ—Ä–∫–∏:**

```bash
# –í—Å—ë –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –±–µ–∑ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ venv!
uvx pyinstaller --onefile --name myapp –≤–∞—à_—Å–∫—Ä–∏–ø—Ç.py
```

**–†–µ–∫–æ–º–µ–Ω–¥—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å uvx –¥–ª—è —Ä–∞–∑–æ–≤—ã—Ö –∑–∞–¥–∞—á** (—Å–±–æ—Ä–∫–∞, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ), –∞ **uv venv + uv pip** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤.



