## üìù **–ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ NVMe –î–ò–°–ö–ê:**

### **1. –ü–û–î–ì–û–¢–û–í–ö–ê:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã
sudo apt update
sudo apt install nvme-cli smartmontools hdparm fio sysstat -y
```

### **2. –ë–ê–ó–û–í–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê (–¥–µ–ª–∞—Ç—å —Ä–∞–∑ –≤ –º–µ—Å—è—Ü):**
```bash
# 1. SMART —Å—Ç–∞—Ç—É—Å (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ)
sudo smartctl -H /dev/nvme0

# 2. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ –∏–∑–Ω–æ—Å
sudo smartctl -A /dev/nvme0 | grep -E "(Temperature|Available_Spare|Percentage_Used|Power_On_Hours)"

# 3. –ö–æ—Ä–æ—Ç–∫–∏–π —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞
sudo smartctl -t short /dev/nvme0
# –ß–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
sudo smartctl -l selftest /dev/nvme0
```

### **3. –¢–ï–°–¢–´ –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò (—Ä–∞–∑ –≤ 3 –º–µ—Å—è—Ü–∞ –∏–ª–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö):**

#### **A. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å (–≤–∞—à —Ç–µ—Å—Ç —Ö–æ—Ä–æ—à):**
```bash
# –¢–µ—Å—Ç –∑–∞–ø–∏—Å–∏ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±—É—Ñ–µ—Ä)
dd if=/dev/zero of=/tmp/test.img bs=1G count=1 oflag=dsync

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
echo 3 | sudo tee /proc/sys/vm/drop_caches

# –¢–µ—Å—Ç —á—Ç–µ–Ω–∏—è
dd if=/tmp/test.img of=/dev/null bs=8k
# –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –ø–æ—Å–ª–µ
rm /tmp/test.img
```

#### **B. –°–ª—É—á–∞–π–Ω–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å (–±–æ–ª–µ–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —Ç–µ—Å—Ç):**
```bash
# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª 1GB
sudo fio --name=test --filename=/tmp/fio_test --size=1G --ioengine=libaio

# –¢–µ—Å—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è (4KB –±–ª–æ–∫–∏, –≥–ª—É–±–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏ 256)
sudo fio --name=randread --filename=/tmp/fio_test \
  --rw=randread --bs=4k --iodepth=256 \
  --runtime=60 --time_based --group_reporting \
  --numjobs=4 --ioengine=libaio --direct=1

# –¢–µ—Å—Ç —Å–ª—É—á–∞–π–Ω–æ–π –∑–∞–ø–∏—Å–∏ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ - –Ω–µ –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ!)
sudo fio --name=randwrite --filename=/tmp/fio_test \
  --rw=randwrite --bs=4k --iodepth=256 \
  --runtime=60 --time_based --group_reporting \
  --numjobs=4 --ioengine=libaio --direct=1
```

#### **C. –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç fio:**
```bash
cat > /tmp/nvme-test.fio << 'EOF'
[global]
ioengine=libaio
direct=1
runtime=30
time_based
group_reporting
size=1G
filename=/tmp/test-file

[seq-read]
bs=1M
rw=read
iodepth=32

[seq-write]
bs=1M
rw=write
iodepth=32

[rand-read]
bs=4k
rw=randread
iodepth=256
numjobs=4

[rand-write]
bs=4k
rw=randwrite
iodepth=256
numjobs=4
EOF

sudo fio /tmp/nvme-test.fio
```

### **4. –ú–û–ù–ò–¢–û–†–ò–ù–ì –í –†–ï–ê–õ–¨–ù–û–ú –í–†–ï–ú–ï–ù–ò:**
```bash
# –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞
watch -n 2 "cat /sys/class/nvme/nvme0/device/device/temp1_input 2>/dev/null | awk '{print \$1/1000\"¬∞C\"}'"

# –ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –¥–∏—Å–∫
iostat -dx /dev/nvme0 2 5

# –ò–ª–∏ —Å –ø–æ–º–æ—â—å—é nvme-cli
sudo nvme list
sudo nvme smart-log /dev/nvme0
```

### **5. –ü–†–û–§–ò–õ–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –ú–ï–†–´:**
1. **–†–∞–∑ –≤ 6 –º–µ—Å—è—Ü–µ–≤:** –î–ª–∏–Ω–Ω—ã–π —Ç–µ—Å—Ç SMART
   ```bash
   sudo smartctl -t long /dev/nvme0
   # –ó–∞–π–º–µ—Ç 1-3 —á–∞—Å–∞, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –Ω–∞ –Ω–æ—á—å
   ```

2. **–ö–æ–Ω—Ç—Ä–æ–ª—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:** –ï—Å–ª–∏ —á–∞—Å—Ç–æ >60¬∞C, —É–ª—É—á—à–∏—Ç—å –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ

3. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ "Percentage Used" >80% –∑–∞–¥—É–º–∞—Ç—å—Å—è –æ –∑–∞–º–µ–Ω–µ



### **–ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:**
1. **–í fio –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å `--size=`**:
   ```bash
   # –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞:
   sudo fio --filename=/tmp/test.file --size=1G --direct=1 --rw=randread \
     --bs=4k --ioengine=libaio --iodepth=256 --runtime=30 \
     --numjobs=4 --time_based --group_reporting --name=test
   ```

2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ**, –∞ –Ω–µ –Ω–∞ raw —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)

3. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç –∑–∞–¥–µ—Ä–∂–µ–∫ (latency):**
   ```bash
   sudo fio --name=latency-test --filename=/tmp/test.file --size=1G \
     --rw=randread --bs=4k --iodepth=1 --runtime=30 \
     --ioengine=libaio --direct=1 --group_reporting \
     --output-format=json --lat_percentiles=1
   ```

## üìà **–ù–û–†–ú–´ –î–õ–Ø –í–ê–®–ï–ì–û –î–ò–°–ö–ê KIOXIA KBG50ZNV512G:**
- **–û–∂–∏–¥–∞–µ–º–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å:** 1.5-2.0 GB/s —á—Ç–µ–Ω–∏–µ, 1.0-1.5 GB/s –∑–∞–ø–∏—Å—å
- **–í–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:** 5.2 GB/s —á—Ç–µ–Ω–∏–µ, 1.0 GB/s –∑–∞–ø–∏—Å—å (—á—Ç–µ–Ω–∏–µ –≤—ã—à–µ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ!)
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞:** 82¬∞C
- **–ò–∑–Ω–æ—Å:** –†–µ—Å—É—Ä—Å ~300TBW, —É –≤–∞—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ 5.4TB

## üö® **–¢–†–ï–í–û–ñ–ù–´–ï –°–ò–ì–ù–ê–õ–´ (—á–µ–≥–æ —Å—Ç–æ–∏—Ç –±–æ—è—Ç—å—Å—è):**
1. `Available Spare` < 10%
2. `Percentage Used` > 90%
3. `Temperature` > 75¬∞C –ø–æ—Å—Ç–æ—è–Ω–Ω–æ
4. –ü–æ—è–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ `Error Information Log`
5. –ü–∞–¥–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 50%

## üìã **–ß–ï–ö-–õ–ò–°–¢ –ï–ñ–ï–ú–ï–°–Ø–ß–ù–û–ô –ü–†–û–í–ï–†–ö–ò:**
```bash
#!/bin/bash
echo "=== Monthly NVMe Check ==="
echo "1. Health: $(sudo smartctl -H /dev/nvme0 | grep -o 'PASSED\|FAILED')"
echo "2. Temperature: $(sudo smartctl -A /dev/nvme0 | grep Temperature | head -1 | awk '{print $2}')¬∞C"
echo "3. Wear: $(sudo smartctl -A /dev/nvme0 | grep Percentage_Used | awk '{print $3}')%"
echo "4. Spare: $(sudo smartctl -A /dev/nvme0 | grep Available_Spare | awk '{print $3}')%"
echo "5. Errors: $(sudo smartctl -l error /dev/nvme0 | grep -c 'Error Information')"
```
---------------------------------------------
<br/>



